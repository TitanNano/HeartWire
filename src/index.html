<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scaleable=no">
    <meta name="theme-color" content="#2196f3">
    <title>HeartWire</title>

    <script src="libs/webcomponents-lite.min.js"></script>
    <link rel="icon" href="heartwire_round.svg" />
    <link rel="import" href="../bower_components/font-roboto/roboto.html" />
    <link rel="import" href="css/main.html" />
    <link rel="import" href="../bower_components/paper-header-panel/paper-header-panel.html" />
    <link rel="import" href="../bower_components/paper-toolbar/paper-toolbar.html" />
    <link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html" />
    <link rel="import" href="../bower_components/paper-card/paper-card.html" />
    <link rel="import" href="../bower_components/paper-styles/color.html" />
    <link rel="import" href="../bower_components/paper-dialog/paper-dialog.html" />
    <link rel="import" href="../bower_components/paper-button/paper-button.html" />
    <link rel="import" href="../bower_components/paper-input/paper-input.html" />
    <link rel="import" href="../bower_components/paper-spinner/paper-spinner.html" />
    <link rel="import" href="../bower_components/iron-icons/iron-icons.html" />
    <link rel="import" href="../bower_components/iron-icons/communication-icons.html" />
    <link rel="import" href="../bower_components/neon-animation/neon-animation.html" />
    <style is="custom-style" include="styles"></style>
</head>
<body partner-color="pink" my-color="blue">
    <paper-header-panel class="flex">
        <paper-toolbar justify="start">
            <iron-icon icon="communication:chat"></iron-icon>
            <template id="header-status" replace poly-parent="paper-toolbar">
                <div bind-display="view.notConnected" class="title">{{view.connectionStatus}}</div>
                <div bind-display="view.connected"    class="title">Ling - online</div>
            </template>
        </paper-toolbar>
        <div class="fit">
            <template id="message-list" replace>
                <ul class="messages">
                    <template bind-repeat="message in view.currentMessages">
                        <li class="{{message.type}}">
                            <paper-card elevation="1">{{message.content}}</paper-card>
                        </li>
                    </template>
                </ul>
            </template>
        </div>
    </paper-header-panel>
    <template id="bottom-input" replace>
        <div class="bottom-input">
            <div class="input {{view.usePlaceholderClass}}" placeholder="enter message here..."
            bind-model="view.inputValue" scope-id="view.inputElement" contenteditable
            bind-model-event="keyup:innerHTML:target.innerHTML:false"
            bind-events="{focus:view.inputFocusChange, blur:view.inputFocusChange}"
            ></div>
            <paper-icon-button icon="icons:send"></paper-icon-button>
        </div>
    </template>

    <template id="login-dialog" replace>
        <paper-dialog entry-animation="scale-up-animation"
            exit-animation="fade-out-animation" modal bind-attr="{Â name: opened, enabled: view.isOpen }">
            <h2 bind-visible="view.isNotActive">Login</h2>

            <div bind-visible="view.isNotActive">
                <paper-input label="Username" bind-value="view.username" error-message="{{view.getErrorMessage(element)}}"
                    required scope-id="view.usernameField"></paper-input>
                <paper-input type="password" label="Password" bind-value="view.password"
                    required error-message="{{view.getErrorMessage(element)}}"
                    scope-id="view.passwordField"></paper-input>
            </div>
            <div bind-visible="view.isNotActive" class="buttons">
                <paper-button bind-events="{ click: view.login }">Login</paper-submit>
            </div>

            <paper-spinner class="center-item" alt="Siging in" bind-display="view.active"
                bind-attr="{ name: active, enabled: view.active }">
            </paper-spinner>
        </paper-dialog>
    </template>

    <script src="cordova.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
